var PANEL_NORMAL_CLASS="expand-collapse-panel";var PANEL_COLLAPSED_CLASS="expand-collapse-panel-collapsed";var PANEL_HEADING_TAG="expand-collapse-title";var PANEL_CONTENT_CLASS="expand-collapse-panel-content";var PANEL_COOKIE_NAME="expand-collapse-panels";var PANEL_ANIMATION_DELAY=20;var PANEL_ANIMATION_STEPS=10;function setUpPanels(){loadSettings();var d=document.getElementsByClassName(PANEL_HEADING_TAG);for(var b=0;b<d.length;b++){var c=d[b];if(c.parentNode.className!=PANEL_NORMAL_CLASS&&c.parentNode.className!=PANEL_COLLAPSED_CLASS){continue}var a=c.firstChild.nodeValue;if(panelsStatus[a]=="false"){c.parentNode.className=PANEL_COLLAPSED_CLASS}else{if(panelsStatus[a]=="true"){c.parentNode.className=PANEL_NORMAL_CLASS}else{panelsStatus[a]=(c.parentNode.className==PANEL_NORMAL_CLASS)?"true":"false"}}c.onclick=function(){var f=this.parentNode;var e=this.firstChild.nodeValue;var g=(f.className==PANEL_COLLAPSED_CLASS);saveSettings(e,g?"true":"false");animateTogglePanel(f,g)}}}function animateTogglePanel(a,h){var e=a.getElementsByTagName("div");var g=null;for(var b=0;b<e.length;b++){if(e[b].className==PANEL_CONTENT_CLASS){g=e[b];break}}g.style.display="block";var d=g.offsetHeight;if(h){g.style.height="0px"}var c=d/PANEL_ANIMATION_STEPS;var f=(!h?-1:1);setTimeout(function(){animateStep(g,1,c,f)},PANEL_ANIMATION_DELAY)}function animateStep(d,b,a,c){if(b<PANEL_ANIMATION_STEPS){d.style.height=Math.round(((c>0)?b:10-b)*a)+"px";b++;setTimeout(function(){animateStep(d,b,a,c)},PANEL_ANIMATION_DELAY)}else{d.parentNode.className=(c<0)?PANEL_COLLAPSED_CLASS:PANEL_NORMAL_CLASS;d.style.display=d.style.height=""}}function loadSettings(){panelsStatus={};var f=document.cookie.indexOf(PANEL_COOKIE_NAME+"=");if(f==-1){return}f+=PANEL_COOKIE_NAME.length+1;var a=document.cookie.indexOf(";",f);if(a==-1){a=document.cookie.length}var d=unescape(document.cookie.substring(f,a));var e=d.split("|");for(var b=0;b<e.length;b++){var c=e[b].split(":");panelsStatus[c[0]]=c[1]}}function expandAll(){for(var a in panelsStatus){saveSettings(a,"true")}setUpPanels()}function collapseAll(){for(var a in panelsStatus){saveSettings(a,"false")}setUpPanels()}function saveSettings(c,d){panelsStatus[c]=d;var e=[];for(var c in panelsStatus){e.push(c+":"+panelsStatus[c])}var a=new Date();var b=new Date(a.getTime()+365*1000*60*60*24);document.cookie=PANEL_COOKIE_NAME+"="+escape(e.join("|"))+";expires="+b.toGMTString()}if(window.addEventListener){window.addEventListener("load",setUpPanels,false)}else{if(window.attachEvent){window.attachEvent("onload",setUpPanels)}};